var In=Object.defineProperty,kn=Object.defineProperties,Yn=Object.getOwnPropertyDescriptors,Ze=Object.getOwnPropertySymbols,Jn=Object.prototype.hasOwnProperty,Vn=Object.prototype.propertyIsEnumerable,ye=(j,E,y)=>E in j?In(j,E,{enumerable:!0,configurable:!0,writable:!0,value:y}):j[E]=y,At=(j,E)=>{for(var y in E||(E={}))Jn.call(E,y)&&ye(j,y,E[y]);if(Ze)for(var y of Ze(E))Vn.call(E,y)&&ye(j,y,E[y]);return j},Ae=(j,E)=>kn(j,Yn(E));(self.webpackChunkkhong_gian_truyen_frontend=self.webpackChunkkhong_gian_truyen_frontend||[]).push([[284],{1290:function(j){j.exports=function(){"use strict";var y=6e4,L=36e5,J="millisecond",P="second",s="minute",ot="hour",N="day",V="week",H="month",Tt="quarter",$="year",ct="date",C="Invalid Date",mt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,W=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,it={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},ht=function(g,h,u){var Z=String(g);return!Z||Z.length>=h?g:""+Array(h+1-Z.length).join(u)+g},Ct={s:ht,z:function(g){var h=-g.utcOffset(),u=Math.abs(h),Z=Math.floor(u/60),d=u%60;return(h<=0?"+":"-")+ht(Z,2,"0")+":"+ht(d,2,"0")},m:function g(h,u){if(h.date()<u.date())return-g(u,h);var Z=12*(u.year()-h.year())+(u.month()-h.month()),d=h.clone().add(Z,H),w=u-d<0,b=h.clone().add(Z+(w?-1:1),H);return+(-(Z+(u-d)/(w?d-b:b-d))||0)},a:function(g){return g<0?Math.ceil(g)||0:Math.floor(g)},p:function(g){return{M:H,y:$,w:V,d:N,D:ct,h:ot,m:s,s:P,ms:J,Q:Tt}[g]||String(g||"").toLowerCase().replace(/s$/,"")},u:function(g){return void 0===g}},gt="en",X={};X[gt]=it;var Pt=function(g){return g instanceof bt},t=function(g,h,u){var Z;if(!g)return gt;if("string"==typeof g)X[g]&&(Z=g),h&&(X[g]=h,Z=g);else{var d=g.name;X[d]=g,Z=d}return!u&&Z&&(gt=Z),Z||!u&&gt},x=function(g,h){if(Pt(g))return g.clone();var u="object"==typeof h?h:{};return u.date=g,u.args=arguments,new bt(u)},S=Ct;S.l=t,S.i=Pt,S.w=function(g,h){return x(g,{locale:h.$L,utc:h.$u,x:h.$x,$offset:h.$offset})};var bt=function(){function g(u){this.$L=t(u.locale,null,!0),this.parse(u)}var h=g.prototype;return h.parse=function(u){this.$d=function(Z){var d=Z.date,w=Z.utc;if(null===d)return new Date(NaN);if(S.u(d))return new Date;if(d instanceof Date)return new Date(d);if("string"==typeof d&&!/Z$/i.test(d)){var b=d.match(mt);if(b){var U=b[2]-1||0,D=(b[7]||"0").substring(0,3);return w?new Date(Date.UTC(b[1],U,b[3]||1,b[4]||0,b[5]||0,b[6]||0,D)):new Date(b[1],U,b[3]||1,b[4]||0,b[5]||0,b[6]||0,D)}}return new Date(d)}(u),this.$x=u.x||{},this.init()},h.init=function(){var u=this.$d;this.$y=u.getFullYear(),this.$M=u.getMonth(),this.$D=u.getDate(),this.$W=u.getDay(),this.$H=u.getHours(),this.$m=u.getMinutes(),this.$s=u.getSeconds(),this.$ms=u.getMilliseconds()},h.$utils=function(){return S},h.isValid=function(){return this.$d.toString()!==C},h.isSame=function(u,Z){var d=x(u);return this.startOf(Z)<=d&&d<=this.endOf(Z)},h.isAfter=function(u,Z){return x(u)<this.startOf(Z)},h.isBefore=function(u,Z){return this.endOf(Z)<x(u)},h.$g=function(u,Z,d){return S.u(u)?this[Z]:this.set(d,u)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(u,Z){var d=this,w=!!S.u(Z)||Z,b=S.p(u),U=function(Q,Y){var tt=S.w(d.$u?Date.UTC(d.$y,Y,Q):new Date(d.$y,Y,Q),d);return w?tt:tt.endOf(N)},D=function(Q,Y){return S.w(d.toDate()[Q].apply(d.toDate("s"),(w?[0,0,0,0]:[23,59,59,999]).slice(Y)),d)},M=this.$W,k=this.$M,B=this.$D,K="set"+(this.$u?"UTC":"");switch(b){case $:return w?U(1,0):U(31,11);case H:return w?U(1,k):U(0,k+1);case V:var _t=this.$locale().weekStart||0,vt=(M<_t?M+7:M)-_t;return U(w?B-vt:B+(6-vt),k);case N:case ct:return D(K+"Hours",0);case ot:return D(K+"Minutes",1);case s:return D(K+"Seconds",2);case P:return D(K+"Milliseconds",3);default:return this.clone()}},h.endOf=function(u){return this.startOf(u,!1)},h.$set=function(u,Z){var d,w=S.p(u),b="set"+(this.$u?"UTC":""),U=(d={},d[N]=b+"Date",d[ct]=b+"Date",d[H]=b+"Month",d[$]=b+"FullYear",d[ot]=b+"Hours",d[s]=b+"Minutes",d[P]=b+"Seconds",d[J]=b+"Milliseconds",d)[w],D=w===N?this.$D+(Z-this.$W):Z;if(w===H||w===$){var M=this.clone().set(ct,1);M.$d[U](D),M.init(),this.$d=M.set(ct,Math.min(this.$D,M.daysInMonth())).$d}else U&&this.$d[U](D);return this.init(),this},h.set=function(u,Z){return this.clone().$set(u,Z)},h.get=function(u){return this[S.p(u)]()},h.add=function(u,Z){var d,w=this;u=Number(u);var b=S.p(Z),U=function(k){var B=x(w);return S.w(B.date(B.date()+Math.round(k*u)),w)};if(b===H)return this.set(H,this.$M+u);if(b===$)return this.set($,this.$y+u);if(b===N)return U(1);if(b===V)return U(7);var D=(d={},d[s]=y,d[ot]=L,d[P]=1e3,d)[b]||1,M=this.$d.getTime()+u*D;return S.w(M,this)},h.subtract=function(u,Z){return this.add(-1*u,Z)},h.format=function(u){var Z=this,d=this.$locale();if(!this.isValid())return d.invalidDate||C;var w=u||"YYYY-MM-DDTHH:mm:ssZ",b=S.z(this),U=this.$H,D=this.$m,M=this.$M,k=d.weekdays,B=d.months,K=function(Y,tt,et,rt){return Y&&(Y[tt]||Y(Z,w))||et[tt].substr(0,rt)},_t=function(Y){return S.s(U%12||12,Y,"0")},vt=d.meridiem||function(Y,tt,et){var rt=Y<12?"AM":"PM";return et?rt.toLowerCase():rt},Q={YY:String(this.$y).slice(-2),YYYY:this.$y,M:M+1,MM:S.s(M+1,2,"0"),MMM:K(d.monthsShort,M,B,3),MMMM:K(B,M),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:K(d.weekdaysMin,this.$W,k,2),ddd:K(d.weekdaysShort,this.$W,k,3),dddd:k[this.$W],H:String(U),HH:S.s(U,2,"0"),h:_t(1),hh:_t(2),a:vt(U,D,!0),A:vt(U,D,!1),m:String(D),mm:S.s(D,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:b};return w.replace(W,function(Y,tt){return tt||Q[Y]||b.replace(":","")})},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(u,Z,d){var w,b=S.p(Z),U=x(u),D=(U.utcOffset()-this.utcOffset())*y,M=this-U,k=S.m(this,U);return k=(w={},w[$]=k/12,w[H]=k,w[Tt]=k/3,w[V]=(M-D)/6048e5,w[N]=(M-D)/864e5,w[ot]=M/L,w[s]=M/y,w[P]=M/1e3,w)[b]||M,d?k:S.a(k)},h.daysInMonth=function(){return this.endOf(H).$D},h.$locale=function(){return X[this.$L]},h.locale=function(u,Z){if(!u)return this.$L;var d=this.clone(),w=t(u,Z,!0);return w&&(d.$L=w),d},h.clone=function(){return S.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},g}(),ft=bt.prototype;return x.prototype=ft,[["$ms",J],["$s",P],["$m",s],["$H",ot],["$W",N],["$M",H],["$y",$],["$D",ct]].forEach(function(g){ft[g[1]]=function(h){return this.$g(h,g[0],g[1])}}),x.extend=function(g,h){return g.$i||(g(h,bt,x),g.$i=!0),x},x.locale=t,x.isDayjs=Pt,x.unix=function(g){return x(1e3*g)},x.en=X[gt],x.Ls=X,x.p={},x}()},284:(j,E,y)=>{"use strict";y.r(E),y.d(E,{HomeModule:()=>En});var L=y(6019),J=y(9133),P=y(1410),s=y(607),ot=y(7553),N=y(8260),V=y(3132),H=y(6813),Tt=y(540),$=y(2411),ct=y(9204),C=y(8053),mt=y(5571),W=(()=>{return(e=W||(W={}))[e.DAY=0]="DAY",e[e.WEEK=1]="WEEK",e[e.MONTH=2]="MONTH",e[e.YEAR=3]="YEAR",W;var e})();class it{}function ht(e){var i;return{id:e.id?e.id:-1,name:e.name?e.name:"default name",status:e.status?e.status:"comming",categoryList:V.map(e.categories,Ct),nbComment:e.comments?e.comments.length:0,nbView:e.totalChapter?e.totalChapter:300,imageUrl:(null===(i=e.imageUrl)||void 0===i?void 0:i.match(/(http(s?):)([/|.|\w|\s|-])*\.(?:jpg|gif|png)/))?e.imageUrl:"https://source.unsplash.com/1600x900/?product"}}function Ct(e){return e.name?e.name:""}function X(e){return{source:e.format?e.format:"prc",url:e.url?e.url:"https://hackerthemes.com/bootstrap-cheatsheet/#text-left"}}function Pt(e){return{id:e.id?e.id:-1,username:e.user&&e.user.login?e.user.login:"user",avatarUrl:"https://source.unsplash.com/1600x900/?product",content:e.content?e.content:"default content",productId:e.product&&e.product.id?e.product.id:-1,time:e.commentDate?e.commentDate.toDate():new Date}}var t=y(3668),x=y(1290);function S(e){return null!=e}var ft=y(4522);const g=e=>{let i=new ft.LE;return e&&(Object.keys(e).forEach(n=>{"sort"!==n&&(i=i.set(n,e[n]))}),e.sort&&e.sort.forEach(n=>{i=i.append("sort",n)})),i};function u(e){return e.id}var Z=y(5808);let d=(()=>{class e{constructor(n,o){this.http=n,this.applicationConfigService=o,this.resourceUrl=this.applicationConfigService.getEndpointFor("api/products")}create(n){const o=this.convertDateFromClient(n);return this.http.post(this.resourceUrl,o,{observe:"response"}).pipe((0,C.U)(r=>this.convertDateFromServer(r)))}update(n){const o=this.convertDateFromClient(n);return this.http.put(`${this.resourceUrl}/${u(n)}`,o,{observe:"response"}).pipe((0,C.U)(r=>this.convertDateFromServer(r)))}partialUpdate(n){const o=this.convertDateFromClient(n);return this.http.patch(`${this.resourceUrl}/${u(n)}`,o,{observe:"response"}).pipe((0,C.U)(r=>this.convertDateFromServer(r)))}find(n){return this.http.get(`${this.resourceUrl}/${n}`,{observe:"response"}).pipe((0,C.U)(o=>this.convertDateFromServer(o)))}query(n){const o=g(n);return this.http.get(this.resourceUrl,{params:o,observe:"response"}).pipe((0,C.U)(r=>this.convertDateArrayFromServer(r)))}delete(n){return this.http.delete(`${this.resourceUrl}/${n}`,{observe:"response"})}addProductToCollectionIfMissing(n,...o){const r=o.filter(S);if(r.length>0){const c=n.map(f=>u(f));return[...r.filter(f=>{const q=u(f);return null!=q&&!c.includes(q)&&(c.push(q),!0)}),...n]}return n}convertDateFromClient(n){var o;return Object.assign({},n,{publishDate:(null===(o=n.publishDate)||void 0===o?void 0:o.isValid())?n.publishDate.toJSON():void 0})}convertDateFromServer(n){return n.body&&(n.body.publishDate=n.body.publishDate?x(n.body.publishDate):void 0),n}convertDateArrayFromServer(n){return n.body&&n.body.forEach(o=>{o.publishDate=o.publishDate?x(o.publishDate):void 0}),n}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(ft.eN),t.LFG(Z.y))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),w=(()=>{class e extends d{queryNewCommentedProduct(n){const o=g(n);return this.http.get(`${this.resourceUrl}/new-comment`,{params:o,observe:"response"}).pipe((0,C.U)(r=>this.convertDateArrayFromServer(r)))}queryProductWithComments(n){const o=g(n);return this.http.get(`${this.resourceUrl}/comments`,{params:o,observe:"response"}).pipe((0,C.U)(r=>this.convertDateFromPageing(r)))}convertDateFromPageing(n){var o;return(null===(o=n.body)||void 0===o?void 0:o.products)&&n.body.products.forEach(r=>{r.publishDate=r.publishDate?x(r.publishDate):void 0}),n}}return e.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(e)))(o||e)}}(),e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function U(e){return e.id}let D=(()=>{class e{constructor(n,o){this.http=n,this.applicationConfigService=o,this.resourceUrl=this.applicationConfigService.getEndpointFor("api/comments")}create(n){const o=this.convertDateFromClient(n);return this.http.post(this.resourceUrl,o,{observe:"response"}).pipe((0,C.U)(r=>this.convertDateFromServer(r)))}update(n){const o=this.convertDateFromClient(n);return this.http.put(`${this.resourceUrl}/${U(n)}`,o,{observe:"response"}).pipe((0,C.U)(r=>this.convertDateFromServer(r)))}partialUpdate(n){const o=this.convertDateFromClient(n);return this.http.patch(`${this.resourceUrl}/${U(n)}`,o,{observe:"response"}).pipe((0,C.U)(r=>this.convertDateFromServer(r)))}find(n){return this.http.get(`${this.resourceUrl}/${n}`,{observe:"response"}).pipe((0,C.U)(o=>this.convertDateFromServer(o)))}query(n){const o=g(n);return this.http.get(this.resourceUrl,{params:o,observe:"response"}).pipe((0,C.U)(r=>this.convertDateArrayFromServer(r)))}delete(n){return this.http.delete(`${this.resourceUrl}/${n}`,{observe:"response"})}addCommentToCollectionIfMissing(n,...o){const r=o.filter(S);if(r.length>0){const c=n.map(f=>U(f));return[...r.filter(f=>{const q=U(f);return null!=q&&!c.includes(q)&&(c.push(q),!0)}),...n]}return n}convertDateFromClient(n){var o;return Object.assign({},n,{commentDate:(null===(o=n.commentDate)||void 0===o?void 0:o.isValid())?n.commentDate.toJSON():void 0})}convertDateFromServer(n){return n.body&&(n.body.commentDate=n.body.commentDate?x(n.body.commentDate):void 0),n}convertDateArrayFromServer(n){return n.body&&n.body.forEach(o=>{o.commentDate=o.commentDate?x(o.commentDate):void 0}),n}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(ft.eN),t.LFG(Z.y))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),M=(()=>{class e extends D{queryCommentsByProduct(n,o){const r=g(o);return this.http.get(`${this.resourceUrl}/product/${n}`,{params:r,observe:"response"}).pipe((0,C.U)(c=>this.convertDateArrayFromServer(c)))}createComment(n,o){return this.http.post(`${this.resourceUrl}/extends`,{content:o,productId:n},{observe:"response"}).pipe((0,C.U)(r=>this.convertDateFromServer(r)))}}return e.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(e)))(o||e)}}(),e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function B(e){return e.id}let K=(()=>{class e{constructor(n,o){this.http=n,this.applicationConfigService=o,this.resourceUrl=this.applicationConfigService.getEndpointFor("api/resource-downloads")}create(n){return this.http.post(this.resourceUrl,n,{observe:"response"})}update(n){return this.http.put(`${this.resourceUrl}/${B(n)}`,n,{observe:"response"})}partialUpdate(n){return this.http.patch(`${this.resourceUrl}/${B(n)}`,n,{observe:"response"})}find(n){return this.http.get(`${this.resourceUrl}/${n}`,{observe:"response"})}query(n){const o=g(n);return this.http.get(this.resourceUrl,{params:o,observe:"response"})}delete(n){return this.http.delete(`${this.resourceUrl}/${n}`,{observe:"response"})}addResourceDownloadToCollectionIfMissing(n,...o){const r=o.filter(S);if(r.length>0){const c=n.map(f=>B(f));return[...r.filter(f=>{const q=B(f);return null!=q&&!c.includes(q)&&(c.push(q),!0)}),...n]}return n}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(ft.eN),t.LFG(Z.y))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),_t=(()=>{class e extends K{getResourceDownloadByProduct(n){return this.http.get(`${this.resourceUrl}/product/${n}`,{observe:"response"})}}return e.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(e)))(o||e)}}(),e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),vt=(()=>{class e extends it{constructor(n,o,r,c){super(),this.productService=n,this.productExtendsService=o,this.commentExtendsService=r,this.resourceDownloadExtendsService=c}getLimitTrendingProduct(n){return console.log("get limit trending product, size: ",n),this.productService.query({page:0,size:n,sort:["id,asc"]}).pipe((0,ct.w)(o=>{var r;return(0,H.D)(null===(r=o.body)||void 0===r?void 0:r.map(c=>this.getProductComments(9900,c.id?c.id:1).pipe((0,C.U)(l=>Object.assign({},c,Object.assign(Object.assign({},c),{comments:l})))))).pipe((0,C.U)(c=>V.map(c,ht)))}))}getProductDetail(n){if(console.log("get product detail for id: ",n),isNaN(n))return(0,Tt._)("id not exist");const o={id:n,name:"Product Details from Mock service",description:"This is description",author:"Jackson",imageUrl:"https://source.unsplash.com/1600x900/?product",nbComment:10,nbLike:30,nbView:30,publishTime:new Date,categoryList:["Test","Action","Fantasy"],quality:"Convert",status:"Complete",length:500,rating:4.5,downloadSource:[{source:"prc",url:"https://hackerthemes.com/bootstrap-cheatsheet/#text-left"},{source:"epub",url:"https://hackerthemes.com/bootstrap-cheatsheet/#text-left"},{source:"pdf",url:"https://hackerthemes.com/bootstrap-cheatsheet/#text-left"},{source:"mobi",url:"https://hackerthemes.com/bootstrap-cheatsheet/#text-left"}]};return this.productService.find(n).pipe((0,C.U)(r=>r.body?function(e){var i;return{id:e.id?e.id:-1,name:e.name?e.name:"default name",description:e.description?e.description:"This is description",author:e.author&&e.author.name?e.author.name:"author",imageUrl:(null===(i=e.imageUrl)||void 0===i?void 0:i.match(/(http(s?):)([/|.|\w|\s|-])*\.(?:jpg|gif|png)/))?e.imageUrl:"https://source.unsplash.com/1600x900/?product",nbComment:e.comments?e.comments.length:0,nbLike:e.likes?e.likes.length:0,nbView:e.totalChapter?e.totalChapter:0,publishTime:e.publishDate?e.publishDate.toDate():new Date,categoryList:V.map(e.categories,Ct),quality:"Convert",status:e.status?e.status:"comming",length:e.totalChapter?e.totalChapter:0,rating:4.5,downloadSource:V.map(e.resourceDownloads,X)}}(r.body):o),(0,mt.M)(this.resourceDownloadExtendsService.getResourceDownloadByProduct(n).pipe((0,C.U)(r=>V.map(r.body,X)))),(0,mt.M)(this.getProductComments(9900,n)),(0,C.U)(([[r,c],l])=>(r.downloadSource=c,r.nbComment=l.length,r)))}getAllProductWithPaging(n,o,r){return console.log("get all product with paging start at: ",n,", size: ",o,", order by: ",r),this.productExtendsService.queryProductWithComments({page:n/o,size:o,sort:[r+",asc"]}).pipe((0,C.U)(l=>{var f,q;return{currentList:V.map(null===(f=l.body)||void 0===f?void 0:f.products,ht),size:o,start:n,total:(null===(q=l.body)||void 0===q?void 0:q.totalElements)?l.body.totalElements:100}}))}getTopViewsProduct(n,o){console.log("get top views product with size: ",n),console.log("get top views product with type: ",o);let r=[];const c={id:-1,name:"default",status:"comming",categoryList:["Action","Movie"],nbComment:30,nbView:300,imageUrl:"https://source.unsplash.com/1600x900/?product"};for(let l=0;l<n;l++)r.push(Object.assign(Object.assign({},c),{id:l,name:"sidebar view mock filter by "+W[o]}));return(0,$.of)(r)}getNewCommentProducts(n){return console.log("get products list which have news comments with size: ",n),this.productExtendsService.queryNewCommentedProduct({page:0,size:n,sort:[]}).pipe((0,C.U)(o=>V.map(o.body,ht)))}getProductComments(n,o){return console.log("get comments of products with product id: ",o,", size",n),this.commentExtendsService.queryCommentsByProduct(o,{page:0,size:n,sort:["id,desc"]}).pipe((0,C.U)(r=>V.map(r.body,Pt)))}addCommentToProduct(n,o){return this.commentExtendsService.createComment(o,n).pipe((0,C.U)(r=>(console.log("addCommentToProduct :",r),"ok")))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(d),t.LFG(w),t.LFG(M),t.LFG(_t))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Q=y(2187);let Y=(()=>{class e extends it{constructor(){super()}getLimitTrendingProduct(n){console.log("get limit trending product, size: ",n);let o=[];const r={id:-1,name:"default",status:"comming",categoryList:["Action","Movie"],nbComment:30,nbView:300,imageUrl:"https://source.unsplash.com/1600x900/?product"};for(let c=0;c<n;c++)o.push(Object.assign(Object.assign({},r),{id:c,name:"trending defaut "+(c+1)}));return(0,$.of)(o).pipe((0,Q.g)(1200))}getProductDetail(n){if(console.log("get product detail for id: ",n),isNaN(n))return(0,Tt._)("id not exist");const o={id:n,name:"Product Details from Mock service",description:"This is description",author:"Jackson",imageUrl:"https://source.unsplash.com/1600x900/?product",nbComment:10,nbLike:30,nbView:30,publishTime:new Date,categoryList:["Test","Action","Fantasy"],quality:"Convert",status:"Complete",length:500,rating:4.5,downloadSource:[{source:"prc",url:"https://hackerthemes.com/bootstrap-cheatsheet/#text-left"},{source:"epub",url:"https://hackerthemes.com/bootstrap-cheatsheet/#text-left"},{source:"pdf",url:"https://hackerthemes.com/bootstrap-cheatsheet/#text-left"},{source:"mobi",url:"https://hackerthemes.com/bootstrap-cheatsheet/#text-left"}]};return(0,$.of)(o).pipe((0,Q.g)(1200))}getAllProductWithPaging(n,o,r){console.log("get all product with paging start at: ",n,", size: ",o,", order by: ",r);const c={id:-1,name:"default paging mock",status:"comming",categoryList:["Action","Movie"],nbComment:30,nbView:300,imageUrl:"https://source.unsplash.com/1600x900/?product"};let l=[];for(let f=n;f<n+o;f++)l.push(Object.assign(Object.assign({},c),{id:f,name:"default paging mock "+f+", size: "+o+", order by: "+r}));return(0,$.of)({currentList:l,size:o,start:n,total:50})}getTopViewsProduct(n,o){console.log("get top views product with size: ",n),console.log("get top views product with type: ",o);let r=[];const c={id:-1,name:"default",status:"comming",categoryList:["Action","Movie"],nbComment:30,nbView:300,imageUrl:"https://source.unsplash.com/1600x900/?product"};for(let l=0;l<n;l++)r.push(Object.assign(Object.assign({},c),{id:l,name:"sidebar view mock filter by "+W[o]}));return(0,$.of)(r)}getNewCommentProducts(n){console.log("get products list which have news comments with size: ",n);let o=[];const r={id:-1,name:"default",status:"comming",categoryList:["Action","Movie"],nbComment:30,nbView:300,imageUrl:"https://source.unsplash.com/1600x900/?product"};for(let c=0;c<n;c++)o.push(Object.assign(Object.assign({},r),{id:c,name:"sidebar comment product mock name"}));return(0,$.of)(o)}getProductComments(n,o){console.log("get comments of products with product id: ",o,", size",n);const r={id:-1,username:"commenuser",avatarUrl:"https://source.unsplash.com/1600x900/?product",content:"this is the review content",time:new Date(1609834043e3),productId:o};let c=[];for(let l=0;l<n;l++)c.push(Object.assign(Object.assign({},r),{id:l}));return(0,$.of)(c).pipe((0,Q.g)(2e3))}addCommentToProduct(n,o){return console.log("add new comments for  products with id: ",o),(0,$.of)("OK").pipe((0,Q.g)(2e3))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var tt=y(1382),et=y(3219);const rt=(0,s.PH)("[AllProduct/API] Load All Trendings",(0,s.Ky)()),Et=(0,s.PH)("[AllProduct/API] Load All Trendings Success",(0,s.Ky)()),Te=(0,s.PH)("[AllProduct/API] Load All Trendings Failure",(0,s.Ky)()),Nt=(0,s.PH)("[DetailsApi] Load DetailsApi Success",(0,s.Ky)()),Pe=(0,s.PH)("[DetailsApi] Load DetailsApi Failure",(0,s.Ky)()),Lt=(0,s.PH)("[ProductCommentApi] Load Product Comment Success",(0,s.Ky)()),It=(0,s.PH)("[ProductCommentApi] Load Product Comment Failure",(0,s.Ky)()),kt=(0,s.PH)("[CommentApi] Add Comment Success"),be=(0,s.PH)("[CommentApi] Add Comment Failure",(0,s.Ky)()),Yt=(0,s.PH)("[DetailsPage] Load DetailsPages",(0,s.Ky)()),Jt=(0,s.PH)("[DetailsPage] Load Product Comments",(0,s.Ky)()),Vt=(0,s.PH)("[DetailsPage] Add New Comment",(0,s.Ky)()),Ht=(0,s.PH)("[NewComment] Load NewComments",(0,s.Ky)()),Bt=(0,s.PH)("[NewComment] Load NewComments Success",(0,s.Ky)()),jt=(0,s.PH)("[NewComment] Load NewComments Failure",(0,s.Ky)()),St=(0,s.PH)("[ProductItem] Show Product Details",(0,s.Ky)()),$t=(0,s.PH)("[TopViewsApi] Load TopViewsApis",(0,s.Ky)()),zt=(0,s.PH)("[TopViewsApi] Load TopViewsApis Success",(0,s.Ky)()),Kt=(0,s.PH)("[TopViewsApi] Load TopViewsApis Failure",(0,s.Ky)()),Qt=(0,s.PH)("[Trending/API] Load Trendings Success",(0,s.Ky)()),Gt=(0,s.PH)("[Trending/API] Load Trendings Failure",(0,s.Ky)()),Rt=(0,s.PH)("[TrendingPage] Load TrendingPages"),Wt=(0,s.PH)("[TrendingPage] Show All Trending");var v=(()=>{return(e=v||(v={}))[e.EntitiesOnly=0]="EntitiesOnly",e[e.Both=1]="Both",e[e.None=2]="None",v;var e})();function O(e){return function(n,o){const r={ids:[...o.ids],entities:At({},o.entities)},c=e(n,r);return c===v.Both?Object.assign({},o,r):c===v.EntitiesOnly?Ae(At({},o),{entities:r.entities}):o}}function st(e,i){const n=i(e);return(0,t.X6Q)()&&void 0===n&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",e,"The `selectId` implementation:",i.toString()),n}function Xt(e){function i(T,m){const p=st(T,e);return p in m.entities?v.None:(m.ids.push(p),m.entities[p]=T,v.Both)}function n(T,m){let p=!1;for(const a of T)p=i(a,m)!==v.None||p;return p?v.Both:v.None}function r(T,m){const p=st(T,e);return p in m.entities?(m.entities[p]=T,v.EntitiesOnly):(m.ids.push(p),m.entities[p]=T,v.Both)}function f(T,m){const a=(T instanceof Array?T:m.ids.filter(_=>T(m.entities[_]))).filter(_=>_ in m.entities).map(_=>delete m.entities[_]).length>0;return a&&(m.ids=m.ids.filter(_=>_ in m.entities)),a?v.Both:v.None}function nt(T,m){return G([T],m)}function G(T,m){const p={};return(T=T.filter(_=>_.id in m.entities)).length>0?T.filter(A=>function(T,m,p){const _=Object.assign({},p.entities[m.id],m.changes),A=st(_,e),F=A!==m.id;return F&&(T[m.id]=A,delete p.entities[m.id]),p.entities[A]=_,F}(p,A,m)).length>0?(m.ids=m.ids.map(A=>p[A]||A),v.Both):v.EntitiesOnly:v.None}function Zt(T,m){const p=[],a=[];for(const F of T){const I=st(F,e);I in m.entities?a.push({id:I,changes:F}):p.push(F)}const _=G(a,m),A=n(p,m);switch(!0){case A===v.None&&_===v.None:return v.None;case A===v.Both||_===v.Both:return v.Both;default:return v.EntitiesOnly}}return{removeAll:function(T){return Object.assign({},T,{ids:[],entities:{}})},addOne:O(i),addMany:O(n),setAll:O(function(T,m){return m.ids=[],m.entities={},n(T,m),v.Both}),setOne:O(r),setMany:O(function(T,m){const p=T.map(a=>r(a,m));switch(!0){case p.some(a=>a===v.Both):return v.Both;case p.some(a=>a===v.EntitiesOnly):return v.EntitiesOnly;default:return v.None}}),updateOne:O(nt),updateMany:O(G),upsertOne:O(function(T,m){return Zt([T],m)}),upsertMany:O(Zt),removeOne:O(function(T,m){return f([T],m)}),removeMany:O(f),map:O(function(T,m){return G(m.ids.reduce((_,A)=>{const F=T(m.entities[A]);return F!==m.entities[A]&&_.push({id:A,changes:F}),_},[]).filter(({id:_})=>_ in m.entities),m)}),mapOne:O(function({map:T,id:m},p){const a=p.entities[m];return a?nt({id:m,changes:T(a)},p):v.None})}}function Ut(e={}){const{selectId:i,sortComparer:n}=At({sortComparer:!1,selectId:l=>l.id},e),o={getInitialState:function(i={}){return Object.assign({ids:[],entities:{}},i)}},r={getSelectors:function(i){const n=l=>l.ids,o=l=>l.entities,r=(0,s.P1)(n,o,(l,f)=>l.map(q=>f[q])),c=(0,s.P1)(n,l=>l.length);return i?{selectIds:(0,s.P1)(i,n),selectEntities:(0,s.P1)(i,o),selectAll:(0,s.P1)(i,r),selectTotal:(0,s.P1)(i,c)}:{selectIds:n,selectEntities:o,selectAll:r,selectTotal:c}}},c=n?function(e,i){const{removeOne:n,removeMany:o,removeAll:r}=Xt(e);function c(p,a){return l([p],a)}function l(p,a){const _=p.filter(A=>!(st(A,e)in a.entities));return 0===_.length?v.None:(m(_,a),v.Both)}function q(p,a){const _=st(p,e);return _ in a.entities?(a.ids=a.ids.filter(A=>A!==_),m([p],a),v.Both):c(p,a)}function nt(p,a){return z([p],a)}function z(p,a){const _=[],A=p.filter(F=>function(p,a,_){if(!(a.id in _.entities))return!1;const F=Object.assign({},_.entities[a.id],a.changes),I=st(F,e);return delete _.entities[a.id],p.push(F),I!==a.id}(_,F,a)).length>0;if(0===_.length)return v.None;{const F=a.ids,I=[];return a.ids=a.ids.filter((R,yt)=>R in a.entities||(I.push(yt),!1)),m(_,a),!A&&I.every(R=>a.ids[R]===F[R])?v.EntitiesOnly:v.Both}}function T(p,a){const _=[],A=[];for(const R of p){const yt=st(R,e);yt in a.entities?A.push({id:yt,changes:R}):_.push(R)}const F=z(A,a),I=l(_,a);switch(!0){case I===v.None&&F===v.None:return v.None;case I===v.Both||F===v.Both:return v.Both;default:return v.EntitiesOnly}}function m(p,a){p.sort(i);const _=[];let A=0,F=0;for(;A<p.length&&F<a.ids.length;){const I=p[A],R=st(I,e),yt=a.ids[F];i(I,a.entities[yt])<=0?(_.push(R),A++):(_.push(yt),F++)}a.ids=_.concat(A<p.length?p.slice(A).map(e):a.ids.slice(F)),p.forEach((I,R)=>{a.entities[e(I)]=I})}return{removeOne:n,removeMany:o,removeAll:r,addOne:O(c),updateOne:O(nt),upsertOne:O(function(p,a){return T([p],a)}),setAll:O(function(p,a){return a.entities={},a.ids=[],l(p,a),v.Both}),setOne:O(q),setMany:O(function(p,a){const _=p.map(A=>q(A,a));switch(!0){case _.some(A=>A===v.Both):return v.Both;case _.some(A=>A===v.EntitiesOnly):return v.EntitiesOnly;default:return v.None}}),addMany:O(l),updateMany:O(z),upsertMany:O(T),map:O(function(p,a){return z(a.ids.reduce((A,F)=>{const I=p(a.entities[F]);return I!==a.entities[F]&&A.push({id:F,changes:I}),A},[]),a)}),mapOne:O(function({map:p,id:a},_){const A=_.entities[a];return A?nt({id:a,changes:p(A)},_):v.None})}}(i,n):Xt(i);return At(At(At({selectId:i,sortComparer:n},o),r),c)}const te="allProduct",xt=Ut({selectId:e=>e.id}),Ue=xt.getInitialState({size:5,start:0,total:50,page:1,order:"id"}),Fe=(0,s.Lq)(Ue,(0,s.on)(Et,(e,{productsPaging:i})=>xt.setAll(i.currentList,Object.assign(Object.assign({},e),{size:i.size,start:i.start,total:i.total})))),{selectAll:qe}=xt.getSelectors(),ee="details",Le={productDetails:{id:-1,name:"Product Details",description:"This is description",author:"Jackson",imageUrl:"https://source.unsplash.com/1600x900/?product",nbComment:10,nbLike:30,nbView:30,publishTime:new Date,categoryList:["Test","Action","Fantasy"],quality:"Convert",status:"Complete",length:500,rating:4.5,downloadSource:[]},comments:[]},xe=(0,s.Lq)(Le,(0,s.on)(Nt,(e,{productDetail:i})=>Object.assign(Object.assign({},e),{productDetails:i})),(0,s.on)(Lt,(e,{comments:i})=>Object.assign(Object.assign({},e),{comments:i}))),ne="newComment",Mt=Ut({selectId:e=>e.id}),oe=Mt.getInitialState({}),Me=(0,s.Lq)(oe,(0,s.on)(Bt,(e,{products:i})=>Mt.setAll(i,e)),(0,s.on)(jt,(e,i)=>oe)),{selectAll:Oe}=Mt.getSelectors(),ie="topViews",Ot=Ut({selectId:e=>e.id}),re=Ot.getInitialState({filterType:W.DAY}),De=(0,s.Lq)(re,(0,s.on)($t,(e,{filterType:n})=>Object.assign(Object.assign({},e),{filterType:n})),(0,s.on)(zt,(e,{products:i})=>Ot.setAll(i,e)),(0,s.on)(Kt,(e,i)=>re)),{selectAll:Ee}=Ot.getSelectors(),se="trending-product",Dt=Ut({selectId:e=>e.id}),ce=Dt.getInitialState({}),Ne=(0,s.Lq)(ce,(0,s.on)(Qt,(e,{products:i})=>Dt.setAll(i,e)),(0,s.on)(Gt,(e,i)=>ce)),{selectAll:Ie}=Dt.getSelectors(),ae=(0,s.ZF)(te),ke=(0,s.P1)(ae,qe),ue=(0,s.P1)(ae,e=>({size:e.size,start:e.start,total:e.total,order:e.order,page:e.start/e.size+1,hasPrevious:e.start>=e.size,hasNext:e.start+e.size<e.total})),Ye=(0,s.P1)(ke,ue,(e,i)=>({currentList:e,size:i.start,total:i.total,start:i.start})),le=(0,s.ZF)(ee),de=(0,s.P1)(le,e=>e.productDetails),pe=(0,s.P1)(le,e=>e.comments),Je=(0,s.ZF)(ne),Ve=(0,s.P1)(Je,Oe),me=(0,s.ZF)(ie),He=(0,s.P1)(me,Ee),Be=(0,s.P1)(me,e=>e.filterType),je=(0,s.ZF)(se),he=(0,s.P1)(je,Ie),Ke=((0,s.P1)(he,e=>({products:e})),function(){return{"background-image":"url(https://source.unsplash.com/1600x900/?product)"}});let Qe=(()=>{class e{constructor(n){this.store=n,this.product={id:-1,name:"default medium",status:"comming",categoryList:["Action","Movie"],nbComment:30,nbView:300,imageUrl:"https://source.unsplash.com/1600x900/?product"}}ngOnInit(){}onProductSelected(n){this.store.dispatch(St({id:n}))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(s.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-medium"]],inputs:{product:"product"},decls:9,vars:5,consts:[[1,"product__sidebar__view__item","set-bg","mix","day","years",3,"ngStyle"],[1,"ep"],[1,"view"],[1,"fa","fa-eye"],[1,"btn","text-left",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2),t._UZ(4,"i",3),t._uU(5),t.qZA(),t.TgZ(6,"h5"),t.TgZ(7,"a",4),t.NdJ("click",function(){return o.onProductSelected(o.product.id)}),t._uU(8),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.Q6J("ngStyle",t.DdM(4,Ke)),t.xp6(2),t.Oqu(o.product.status),t.xp6(3),t.hij(" ",o.product.nbView,""),t.xp6(3),t.Oqu(o.product.name))},directives:[L.PC],styles:[""],changeDetection:0}),e})();function Ge(e,i){if(1&e&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n)}}function Re(e,i){if(1&e&&(t.TgZ(0,"ul"),t.YNc(1,Ge,2,1,"li",7),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.product.categoryList)}}let We=(()=>{class e{constructor(n){this.store=n,this.product={id:-1,name:"default product small",status:"comming",categoryList:["Action","Movie"],nbComment:30,nbView:300,imageUrl:"https://source.unsplash.com/1600x900/?product"}}ngOnInit(){}onProductSelected(n){this.store.dispatch(St({id:n}))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(s.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-small"]],inputs:{product:"product"},decls:11,vars:4,consts:[[1,"product__sidebar__comment__item","row"],[1,"product__sidebar__comment__item__pic","col-4","align-items-stretch","d-flex","mx-0"],["alt","",1,"align-items-stretch",3,"src"],[1,"product__sidebar__comment__item__text","col-7"],[4,"ngIf"],[1,"btn","text-left","p-0",3,"click"],[1,"fa","fa-eye"],[4,"ngFor","ngForOf"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"div",3),t.YNc(4,Re,2,1,"ul",4),t.TgZ(5,"h5"),t.TgZ(6,"a",5),t.NdJ("click",function(){return o.onProductSelected(o.product.id)}),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"span"),t._UZ(9,"i",6),t._uU(10),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.s9C("src",o.product.imageUrl,t.LSH),t.xp6(2),t.Q6J("ngIf",o.product.categoryList.length>0),t.xp6(3),t.Oqu(o.product.name),t.xp6(3),t.hij(" ",o.product.nbView," Views"))},directives:[L.O5,L.sg],styles:[""],changeDetection:0}),e})();function Xe(e,i){1&e&&t._UZ(0,"app-product-medium",9),2&e&&t.Q6J("product",i.$implicit)}const Ft=function(e){return{active:e}};function tn(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",5),t.TgZ(1,"div",3),t.TgZ(2,"h5"),t._uU(3,"Top Views"),t.qZA(),t.qZA(),t.TgZ(4,"ul",6),t.TgZ(5,"li",7),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return r.onChangeFilter(r.TopViewsFilter.DAY)}),t.ALo(6,"async"),t._uU(7,"Day"),t.qZA(),t.TgZ(8,"li",7),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return r.onChangeFilter(r.TopViewsFilter.WEEK)}),t.ALo(9,"async"),t._uU(10,"Week"),t.qZA(),t.TgZ(11,"li",7),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return r.onChangeFilter(r.TopViewsFilter.MONTH)}),t.ALo(12,"async"),t._uU(13,"Month"),t.qZA(),t.TgZ(14,"li",7),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return r.onChangeFilter(r.TopViewsFilter.YEAR)}),t.ALo(15,"async"),t._uU(16,"Years"),t.qZA(),t.qZA(),t.TgZ(17,"div",8),t.YNc(18,Xe,1,1,"app-product-medium",4),t.ALo(19,"async"),t.qZA(),t.qZA()}if(2&e){const n=t.oxw();t.xp6(5),t.Q6J("ngClass",t.VKq(15,Ft,t.lcZ(6,5,n.topViewsFilter$)===n.TopViewsFilter.DAY)),t.xp6(3),t.Q6J("ngClass",t.VKq(17,Ft,t.lcZ(9,7,n.topViewsFilter$)===n.TopViewsFilter.WEEK)),t.xp6(3),t.Q6J("ngClass",t.VKq(19,Ft,t.lcZ(12,9,n.topViewsFilter$)===n.TopViewsFilter.MONTH)),t.xp6(3),t.Q6J("ngClass",t.VKq(21,Ft,t.lcZ(15,11,n.topViewsFilter$)===n.TopViewsFilter.YEAR)),t.xp6(4),t.Q6J("ngForOf",t.lcZ(19,13,n.sideBarViewList$))}}function en(e,i){1&e&&t._UZ(0,"app-product-small",9),2&e&&t.Q6J("product",i.$implicit)}let ge=(()=>{class e{constructor(n){this.store=n,this.TopViewsFilter=W,this.sideBarViewList=[],this.isSideBarViewEnable=N.N.features.sidebar.topViewProduct.isEnable,this.sideBarCommentList=[],this.sideBarCommentList$=this.store.pipe((0,s.Ys)(Ve)),this.sideBarViewList$=this.store.pipe((0,s.Ys)(He)),this.topViewsFilter$=this.store.pipe((0,s.Ys)(Be))}ngOnInit(){this.store.dispatch($t({size:5,filterType:W.DAY})),this.store.dispatch(Ht({size:5}))}onChangeFilter(n){this.store.dispatch($t({size:5,filterType:n}))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(s.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-sidebar"]],decls:8,vars:4,consts:[[1,"product__sidebar"],["class","product__sidebar__view",4,"ngIf"],[1,"product__sidebar__comment"],[1,"section-title"],[3,"product",4,"ngFor","ngForOf"],[1,"product__sidebar__view"],[1,"filter__controls"],[3,"ngClass","click"],[1,"filter__gallery"],[3,"product"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.YNc(1,tn,20,23,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h5"),t._uU(5,"New Comment"),t.qZA(),t.qZA(),t.YNc(6,en,1,1,"app-product-small",4),t.ALo(7,"async"),t.qZA(),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",o.isSideBarViewEnable),t.xp6(5),t.Q6J("ngForOf",t.lcZ(7,2,o.sideBarCommentList$)))},directives:[L.O5,L.sg,L.mk,Qe,We],pipes:[L.Ov],styles:[""],changeDetection:0}),e})();function nn(e,i){if(1&e&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n)}}function on(e,i){if(1&e&&(t.TgZ(0,"ul"),t.YNc(1,nn,2,1,"li",10),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.product.categoryList)}}const rn=function(e){return{"background-image":e}};let fe=(()=>{class e{constructor(n){this.store=n,this.product={id:-1,name:"default",status:"comming",categoryList:["Action","Movie"],nbComment:30,nbView:300,imageUrl:"https://source.unsplash.com/1600x900/?product"}}ngOnInit(){}onProductSelected(n){this.store.dispatch(St({id:n}))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(s.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product"]],inputs:{product:"product"},decls:15,vars:8,consts:[[1,"product__item"],[1,"product__item__pic","set-bg",3,"ngStyle"],[1,"ep"],[1,"comment"],[1,"fa","fa-comments"],[1,"view"],[1,"fa","fa-eye"],[1,"product__item__text"],[4,"ngIf"],[1,"btn","text-left","p-0",3,"click"],[4,"ngFor","ngForOf"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3),t._UZ(5,"i",4),t._uU(6),t.qZA(),t.TgZ(7,"div",5),t._UZ(8,"i",6),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"div",7),t.YNc(11,on,2,1,"ul",8),t.TgZ(12,"h5"),t.TgZ(13,"a",9),t.NdJ("click",function(){return o.onProductSelected(o.product.id)}),t._uU(14),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngStyle",t.VKq(6,rn,"url("+o.product.imageUrl+")")),t.xp6(2),t.Oqu(o.product.status),t.xp6(3),t.hij(" ",o.product.nbComment,""),t.xp6(3),t.hij(" ",o.product.nbView,""),t.xp6(2),t.Q6J("ngIf",o.product.categoryList.length>0),t.xp6(3),t.Oqu(o.product.name))},directives:[L.PC,L.O5,L.sg],styles:[""]}),e})();function sn(e,i){if(1&e&&(t.TgZ(0,"div",20),t._UZ(1,"app-product",21),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Q6J("product",n)}}function cn(e,i){if(1&e&&(t.TgZ(0,"div",20),t._UZ(1,"app-product",21),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Q6J("product",n)}}function an(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",22),t.TgZ(1,"div",7),t.TgZ(2,"div",10),t.TgZ(3,"div",11),t.TgZ(4,"h4"),t._uU(5,"Popular Shows"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",12),t.TgZ(7,"div",13),t.TgZ(8,"a",14),t.NdJ("click",function(){return t.CHM(n),t.oxw().onShowAllProduct()}),t._uU(9,"View All "),t._UZ(10,"span",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",7),t.YNc(12,cn,2,1,"div",16),t.ALo(13,"async"),t.qZA(),t.qZA()}if(2&e){const n=t.oxw();t.xp6(12),t.Q6J("ngForOf",t.lcZ(13,1,n.popularList$))}}function un(e,i){if(1&e&&(t.TgZ(0,"div",20),t._UZ(1,"app-product",21),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Q6J("product",n)}}function ln(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",23),t.TgZ(1,"div",7),t.TgZ(2,"div",10),t.TgZ(3,"div",11),t.TgZ(4,"h4"),t._uU(5,"Recently Added Shows"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",12),t.TgZ(7,"div",13),t.TgZ(8,"a",14),t.NdJ("click",function(){return t.CHM(n),t.oxw().onShowAllProduct()}),t._uU(9,"View All "),t._UZ(10,"span",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",7),t.YNc(12,un,2,1,"div",16),t.ALo(13,"async"),t.qZA(),t.qZA()}if(2&e){const n=t.oxw();t.xp6(12),t.Q6J("ngForOf",t.lcZ(13,1,n.recentList$))}}const pn=function(){return{"background-image":"url(https://p0.piqsels.com/preview/465/81/320/book-bookcase-books-bookshelf.jpg)"}};let mn=(()=>{class e{constructor(n){this.store=n,this.isPopularListEnable=N.N.features.popularProduct.isEnable,this.isRecentListEnable=N.N.features.topNewProduct.isEnable,this.trendingList=[],this.popularList=[],this.recentList=[];const o={id:-1,name:"default",status:"comming",categoryList:["Action","Movie"],nbComment:30,nbView:300,imageUrl:"https://source.unsplash.com/1600x900/?product"};for(let r=0;r<6;r++)this.trendingList.push(o),this.popularList.push(o),this.recentList.push(o);this.trendingList$=this.store.pipe((0,s.Ys)(he)),this.popularList$=(0,$.of)(this.popularList),this.recentList$=(0,$.of)(this.recentList)}ngOnInit(){this.store.dispatch(Rt())}onShowAllProduct(){this.store.dispatch(Wt())}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(s.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-home"]],decls:30,vars:7,consts:[[1,"hero"],[1,"container"],[1,"jumbotron","hero__slider","p-3","p-md-5","text-white","rounded","bg-dark",3,"ngStyle"],[1,"hero__items","col-md-6","px-0"],[1,"display-4","font-italic"],[1,"lead","my-3"],[1,"product","spad"],[1,"row"],[1,"col-lg-8"],[1,"trending__product"],[1,"col-lg-8","col-md-8","col-sm-8"],[1,"section-title"],[1,"col-lg-4","col-md-4","col-sm-4"],[1,"btn__all"],[1,"btn","primary-btn",3,"click"],[1,"arrow_right"],["class","col-lg-4 col-md-6 col-sm-6",4,"ngFor","ngForOf"],["class","popular__product",4,"ngIf"],["class","recent__product",4,"ngIf"],[1,"col-lg-4","col-md-6","col-sm-8"],[1,"col-lg-4","col-md-6","col-sm-6"],[3,"product"],[1,"popular__product"],[1,"recent__product"]],template:function(n,o){1&n&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h1",4),t._uU(5,"Ch\xe0o m\u1eebng \u0111\u1ebfn v\u1edbi Kh\xf4ng Gian Truy\u1ec7n"),t.qZA(),t.TgZ(6,"p",5),t._uU(7,"T\u1ed5ng h\u1ee3p \u0111\u1ea7y \u0111\u1ee7 v\xe0 c\u1eadp nh\u1eadt li\xean t\u1ee5c."),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"section",6),t.TgZ(9,"div",1),t.TgZ(10,"div",7),t.TgZ(11,"div",8),t.TgZ(12,"div",9),t.TgZ(13,"div",7),t.TgZ(14,"div",10),t.TgZ(15,"div",11),t.TgZ(16,"h4"),t._uU(17,"Trending Now"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",12),t.TgZ(19,"div",13),t.TgZ(20,"a",14),t.NdJ("click",function(){return o.onShowAllProduct()}),t._uU(21,"View All "),t._UZ(22,"span",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",7),t.YNc(24,sn,2,1,"div",16),t.ALo(25,"async"),t.qZA(),t.qZA(),t.YNc(26,an,14,3,"div",17),t.YNc(27,ln,14,3,"div",18),t.qZA(),t.TgZ(28,"div",19),t._UZ(29,"app-product-sidebar"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.Q6J("ngStyle",t.DdM(6,pn)),t.xp6(22),t.Q6J("ngForOf",t.lcZ(25,4,o.trendingList$)),t.xp6(2),t.Q6J("ngIf",o.isPopularListEnable),t.xp6(1),t.Q6J("ngIf",o.isRecentListEnable))},directives:[L.PC,L.sg,L.O5,ge,fe],pipes:[L.Ov],styles:[""]}),e})();function hn(e,i){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"select",10,11),t.NdJ("change",function(){t.CHM(n);const r=t.MAs(2);return t.oxw().onChangeOrder(r.value)}),t.TgZ(3,"option",12),t._uU(4,"Time"),t.qZA(),t.TgZ(5,"option",12),t._uU(6,"Name"),t.qZA(),t.TgZ(7,"option",12),t._uU(8,"Status"),t.qZA(),t.qZA(),t.BQk()}if(2&e){const n=i.ngIf;t.xp6(3),t.Q6J("value","id")("selected","id"==n.order),t.xp6(2),t.Q6J("value","name")("selected","name"==n.order),t.xp6(2),t.Q6J("value","status")("selected","status"==n.order)}}function gn(e,i){if(1&e&&(t.TgZ(0,"div",13),t._UZ(1,"app-product",14),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Q6J("product",n)}}function fn(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"a",17),t.NdJ("click",function(){t.CHM(n);const r=t.oxw().ngIf;return t.oxw().onReloadPaging(r.start-r.size)}),t._UZ(1,"i",18),t.qZA()}}function _n(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"a",17),t.NdJ("click",function(){t.CHM(n);const r=t.oxw().ngIf;return t.oxw().onReloadPaging(r.start+r.size)}),t._UZ(1,"i",19),t.qZA()}}function vn(e,i){if(1&e&&(t.ynx(0),t.YNc(1,fn,2,0,"a",15),t.TgZ(2,"a",16),t._uU(3),t.qZA(),t.YNc(4,_n,2,0,"a",15),t.BQk()),2&e){const n=i.ngIf;t.xp6(1),t.Q6J("ngIf",n.hasPrevious),t.xp6(2),t.Oqu(n.page),t.xp6(1),t.Q6J("ngIf",n.hasNext)}}let Zn=(()=>{class e{constructor(n){this.store=n,this.currentList=[],this.currentOrderType="id",this.productPaging$=this.store.pipe((0,s.Ys)(Ye)),this.pagingInfor$=this.store.pipe((0,s.Ys)(ue))}ngOnInit(){this.store.dispatch(rt({start:0,size:N.N.features.productPaging.size,order:this.currentOrderType}))}onReloadPaging(n){null!=n&&this.store.dispatch(rt({start:n,size:N.N.features.productPaging.size,order:this.currentOrderType}))}onChangeOrder(n){console.log("orderType: ",n),this.currentOrderType=n,this.store.dispatch(rt({start:0,size:N.N.features.productPaging.size,order:n}))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(s.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-paging"]],decls:19,vars:9,consts:[[1,"product__page__content"],[1,"product__page__title"],[1,"row"],[1,"col-lg-8","col-md-8","col-sm-6"],[1,"section-title"],[1,"col-lg-4","col-md-4","col-sm-6"],[1,"product__page__filter"],[4,"ngIf"],["class","col-lg-4 col-md-6 col-sm-6",4,"ngFor","ngForOf"],[1,"product__pagination"],[3,"change"],["orderBox",""],[3,"value","selected"],[1,"col-lg-4","col-md-6","col-sm-6"],[3,"product"],["class","btn",3,"click",4,"ngIf"],[1,"current-page"],[1,"btn",3,"click"],[1,"fa","fa-angle-double-left"],[1,"fa","fa-angle-double-right"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"h4"),t._uU(6,"All Products"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",5),t.TgZ(8,"div",6),t.TgZ(9,"p"),t._uU(10,"Order by:"),t.qZA(),t.YNc(11,hn,9,6,"ng-container",7),t.ALo(12,"async"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",2),t.YNc(14,gn,2,1,"div",8),t.ALo(15,"async"),t.qZA(),t.qZA(),t.TgZ(16,"div",9),t.YNc(17,vn,5,3,"ng-container",7),t.ALo(18,"async"),t.qZA()),2&n){let r;t.xp6(11),t.Q6J("ngIf",t.lcZ(12,3,o.pagingInfor$)),t.xp6(3),t.Q6J("ngForOf",null==(r=t.lcZ(15,5,o.productPaging$))?null:r.currentList),t.xp6(3),t.Q6J("ngIf",t.lcZ(18,7,o.pagingInfor$))}},directives:[L.O5,L.sg,J.YN,J.Kr,fe],pipes:[L.Ov],styles:[""],changeDetection:0}),e})();const yn=function(){return["/"]};let An=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:17,vars:2,consts:[[1,"breadcrumb-option"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"breadcrumb__links"],[3,"routerLink"],[1,"fa","fa-home"],[1,"product-page","spad"],[1,"col-lg-8"],[1,"col-lg-4","col-md-6","col-sm-8"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"a",5),t._UZ(6,"i",6),t._uU(7," Home"),t.qZA(),t.TgZ(8,"span"),t._uU(9,"All Products"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"section",7),t.TgZ(11,"div",1),t.TgZ(12,"div",2),t.TgZ(13,"div",8),t._UZ(14,"app-product-paging"),t.qZA(),t.TgZ(15,"div",9),t._UZ(16,"app-product-sidebar"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(5),t.Q6J("routerLink",t.DdM(1,yn)))},directives:[et.yS,Zn,ge],styles:[""]}),e})();var qt=y(5358),_e=y(699);let Tn=(()=>{class e{constructor(){this.comment={id:-1,username:"commenuser",avatarUrl:"https://source.unsplash.com/1600x900/?product",content:"this is the review content",time:new Date(1609834043e3),productId:-1}}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-comment"]],inputs:{comment:"comment"},decls:10,vars:4,consts:[[1,"anime__review__item"],[1,"anime__review__item__pic"],["alt","",3,"src"],[1,"anime__review__item__text"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"div",3),t.TgZ(4,"h6"),t._uU(5),t.TgZ(6,"span"),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.s9C("src",o.comment.avatarUrl,t.LSH),t.xp6(3),t.hij("",o.comment.username," - "),t.xp6(2),t.Oqu(o.comment.time),t.xp6(2),t.Oqu(o.comment.content))},styles:[""],changeDetection:0}),e})();function Pn(e,i){if(1&e&&(t.TgZ(0,"a",24),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.Q6J("href",n.url,t.LSH),t.xp6(1),t.Oqu(n.source)}}function bn(e,i){1&e&&t._UZ(0,"app-comment",25),2&e&&t.Q6J("comment",i.$implicit)}const wn=function(){return{title:"Login required",icon:"warning",showCancelButton:!0}};function Cn(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",30),t.NdJ("confirm",function(r){return t.CHM(n),t.oxw(2).onRedirectForLogin(r)}),t._UZ(1,"i",31),t._uU(2," Review"),t.qZA()}2&e&&t.Q6J("swal",t.DdM(1,wn))}function Sn(e,i){1&e&&(t.TgZ(0,"button",32),t._UZ(1,"i",31),t._uU(2," Review"),t.qZA())}function $n(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"form",26),t.NdJ("ngSubmit",function(){const c=t.CHM(n).ngIf;return t.oxw().onSubmitComment(c.id)}),t._UZ(1,"textarea",27),t.YNc(2,Cn,3,2,"button",28),t.ALo(3,"async"),t.YNc(4,Sn,3,0,"ng-template",null,29,t.W1O),t.qZA()}if(2&e){const n=t.MAs(5),o=t.oxw();t.Q6J("formGroup",o.currentCommentForm),t.xp6(2),t.Q6J("ngIf",!t.lcZ(3,3,o.isUserLoggedIn$))("ngIfElse",n)}}const Un=function(e){return{"background-image":e}};let ve=(()=>{class e{constructor(n,o,r,c){this.store=n,this.activeRoute=o,this.router=r,this.formBuilder=c,this.relatedList=[],this.commentList=[],this.currentProductDetails={id:-1,name:"Product Details",description:"This is description",author:"Jackson",imageUrl:"https://source.unsplash.com/1600x900/?product",nbComment:10,nbLike:30,nbView:30,publishTime:new Date,categoryList:["Test","Action","Fantasy"],quality:"Convert",status:"Complete",length:500,rating:4.5,downloadSource:[]},this.currentCommentForm=this.formBuilder.group({comment:[""]});const l={id:-1,name:"default",status:"comming",categoryList:["Action","Movie"],nbComment:30,nbView:300,imageUrl:"https://source.unsplash.com/1600x900/?product"};for(let f=0;f<6;f++)this.relatedList.push(l);this.relatedList$=(0,$.of)(this.relatedList),this.currentProductDetails$=this.store.select(de),this.commentList$=this.store.select(pe),this.isUserLoggedIn$=this.store.select(_e.c.Qb)}ngOnInit(){const n=this.activeRoute.snapshot.paramMap.get("id");this.store.dispatch(Yt({id:Number(n)})),this.store.dispatch(Jt({size:N.N.features.productDetail.comment.size,productId:Number(n)}))}onSubmitComment(n){console.log("on submitComment",this.currentCommentForm.value),this.store.dispatch(Vt({comment:this.currentCommentForm.value.comment,prodId:n})),this.currentCommentForm.reset()}onRedirectForLogin(n){console.log(" redirect login ",n),this.store.dispatch(qt.pC.loadLoginPages({redirectUrl:this.router.url}))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(s.yh),t.Y36(et.gz),t.Y36(et.F0),t.Y36(J.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-details"]],decls:85,vars:47,consts:[[1,"anime-details","spad"],[1,"container"],[1,"anime__details__content"],[1,"row"],[1,"col-lg-3"],[1,"anime__details__pic","set-bg",3,"ngStyle"],[1,"comment"],[1,"fa","fa-comments"],[1,"view"],[1,"fa","fa-eye"],[1,"col-lg-9"],[1,"anime__details__text"],[1,"anime__details__title"],[1,"anime__details__widget"],[1,"col-lg-6","col-md-6"],[1,"col-lg-12"],[1,"anime__details__episodes"],[1,"section-title"],["target","_blank",3,"href",4,"ngFor","ngForOf"],[1,"col-lg-12","col-md-12"],[1,"anime__details__review"],[3,"comment",4,"ngFor","ngForOf"],[1,"anime__details__form"],[3,"formGroup","ngSubmit",4,"ngIf"],["target","_blank",3,"href"],[3,"comment"],[3,"formGroup","ngSubmit"],["placeholder","Your Comment","formControlName","comment"],["type","submit",3,"swal","confirm",4,"ngIf","ngIfElse"],["elseBlock",""],["type","submit",3,"swal","confirm"],[1,"fa","fa-location-arrow"],["type","submit"]],template:function(n,o){if(1&n&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.ALo(6,"async"),t.TgZ(7,"div",6),t._UZ(8,"i",7),t._uU(9),t.ALo(10,"async"),t.qZA(),t.TgZ(11,"div",8),t._UZ(12,"i",9),t._uU(13),t.ALo(14,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",10),t.TgZ(16,"div",11),t.TgZ(17,"div",12),t.TgZ(18,"h3"),t._uU(19),t.ALo(20,"async"),t.qZA(),t.TgZ(21,"span"),t._uU(22),t.ALo(23,"async"),t.qZA(),t.qZA(),t.TgZ(24,"p"),t._uU(25),t.ALo(26,"async"),t.qZA(),t.TgZ(27,"div",13),t.TgZ(28,"div",3),t.TgZ(29,"div",14),t.TgZ(30,"ul"),t.TgZ(31,"li"),t.TgZ(32,"span"),t._uU(33,"Status:"),t.qZA(),t._uU(34),t.ALo(35,"async"),t.qZA(),t.TgZ(36,"li"),t.TgZ(37,"span"),t._uU(38,"Publish date:"),t.qZA(),t._uU(39),t.ALo(40,"async"),t.qZA(),t.TgZ(41,"li"),t.TgZ(42,"span"),t._uU(43,"Genre:"),t.qZA(),t._uU(44),t.ALo(45,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(46,"div",14),t.TgZ(47,"ul"),t.TgZ(48,"li"),t.TgZ(49,"span"),t._uU(50,"Rating:"),t.qZA(),t._uU(51),t.ALo(52,"async"),t.qZA(),t.TgZ(53,"li"),t.TgZ(54,"span"),t._uU(55,"Duration:"),t.qZA(),t._uU(56),t.ALo(57,"async"),t.qZA(),t.TgZ(58,"li"),t.TgZ(59,"span"),t._uU(60,"Quality:"),t.qZA(),t._uU(61),t.ALo(62,"async"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(63,"div",3),t.TgZ(64,"div",15),t.TgZ(65,"div",16),t.TgZ(66,"div",17),t.TgZ(67,"h5"),t._uU(68,"download"),t.qZA(),t.qZA(),t.YNc(69,Pn,2,2,"a",18),t.ALo(70,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",3),t.TgZ(72,"div",19),t.TgZ(73,"div",20),t.TgZ(74,"div",17),t.TgZ(75,"h5"),t._uU(76,"Reviews"),t.qZA(),t.qZA(),t.YNc(77,bn,1,1,"app-comment",21),t.ALo(78,"async"),t.qZA(),t.TgZ(79,"div",22),t.TgZ(80,"div",17),t.TgZ(81,"h5"),t._uU(82,"Your Comment"),t.qZA(),t.qZA(),t.YNc(83,$n,6,5,"form",23),t.ALo(84,"async"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){let r,c,l,f,q,lt,nt,G,z,dt,pt,Zt,T;t.xp6(5),t.Q6J("ngStyle",t.VKq(45,Un,"url("+(null==(r=t.lcZ(6,15,o.currentProductDetails$))?null:r.imageUrl)+")")),t.xp6(4),t.hij(" ",null==(c=t.lcZ(10,17,o.currentProductDetails$))?null:c.nbComment,""),t.xp6(4),t.hij(" ",null==(l=t.lcZ(14,19,o.currentProductDetails$))?null:l.nbView,""),t.xp6(6),t.Oqu(null==(f=t.lcZ(20,21,o.currentProductDetails$))?null:f.name),t.xp6(3),t.Oqu(null==(q=t.lcZ(23,23,o.currentProductDetails$))?null:q.author),t.xp6(3),t.Oqu(null==(lt=t.lcZ(26,25,o.currentProductDetails$))?null:lt.description),t.xp6(9),t.hij(" ",null==(nt=t.lcZ(35,27,o.currentProductDetails$))?null:nt.status," "),t.xp6(5),t.hij(" ",null==(G=t.lcZ(40,29,o.currentProductDetails$))?null:G.publishTime," "),t.xp6(5),t.hij(" ",null==(z=t.lcZ(45,31,o.currentProductDetails$))||null==z.categoryList?null:z.categoryList.join(", "),""),t.xp6(7),t.hij(" ",null==(dt=t.lcZ(52,33,o.currentProductDetails$))?null:dt.rating,""),t.xp6(5),t.hij(" ",null==(pt=t.lcZ(57,35,o.currentProductDetails$))?null:pt.length," chapters"),t.xp6(5),t.hij(" ",null==(Zt=t.lcZ(62,37,o.currentProductDetails$))?null:Zt.quality,""),t.xp6(8),t.Q6J("ngForOf",null==(T=t.lcZ(70,39,o.currentProductDetails$))?null:T.downloadSource),t.xp6(8),t.Q6J("ngForOf",t.lcZ(78,41,o.commentList$)),t.xp6(6),t.Q6J("ngIf",t.lcZ(84,43,o.currentProductDetails$))}},directives:[L.PC,L.sg,L.O5,Tn,J._Y,J.JL,J.sg,J.Fj,J.JJ,J.u,ot.iL],pipes:[L.Ov],styles:[""]}),e})();const Fn=[{path:"",component:mn},{path:"details",component:ve},{path:"all",component:An},{path:"product/:id",component:ve}];let qn=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[et.Bz.forChild(Fn)],et.Bz]}),e})();var at=y(6700),ut=y(2047);let Ln=(()=>{class e{constructor(n,o,r){this.actions$=n,this.productServiceApi=o,this.store=r,this.loadProductDetail$=(0,P.GW)(()=>this.actions$.pipe((0,P.l4)(Yt),(0,at.b)(({id:c})=>this.productServiceApi.getProductDetail(c).pipe((0,C.U)(l=>Nt({productDetail:l})),(0,ut.K)(l=>(0,$.of)(Pe({error:l}))))))),this.loadProductComments$=(0,P.GW)(()=>this.actions$.pipe((0,P.l4)(Jt),(0,at.b)(({size:c,productId:l})=>this.productServiceApi.getProductComments(c,l).pipe((0,C.U)(f=>Lt({comments:f})),(0,ut.K)(f=>(0,$.of)(It({error:f}))))))),this.addNewProductComments$=(0,P.GW)(()=>this.actions$.pipe((0,P.l4)(Vt),(0,at.b)(({comment:c,prodId:l})=>this.productServiceApi.addCommentToProduct(c,l).pipe((0,C.U)(f=>kt()),(0,ut.K)(f=>(0,$.of)(be({error:f}))))))),this.reloadProductComments$=(0,P.GW)(()=>this.actions$.pipe((0,P.l4)(kt),(0,mt.M)(this.store.pipe((0,s.Ys)(pe))),(0,mt.M)(this.store.pipe((0,s.Ys)(de))),(0,at.b)(([[{},c],l])=>this.productServiceApi.getProductComments(N.N.features.productDetail.comment.size,l.id).pipe((0,C.U)(f=>Lt({comments:f})),(0,ut.K)(f=>(0,$.of)(It({error:f})))))))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(P.eX),t.LFG(it),t.LFG(s.yh))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),xn=(()=>{class e{constructor(n,o){this.actions$=n,this.productServiceApi=o,this.loadNewCommentProducts$=(0,P.GW)(()=>this.actions$.pipe((0,P.l4)(Ht),(0,at.b)(({size:r})=>this.productServiceApi.getNewCommentProducts(r).pipe((0,C.U)(c=>Bt({products:c})),(0,ut.K)(c=>(0,$.of)(jt({error:c})))))))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(P.eX),t.LFG(it))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var wt=y(5722);let Mn=(()=>{class e{constructor(n,o,r,c){this.actions$=n,this.router=o,this.location=r,this.store=c,this.showProductDetails$=(0,P.GW)(()=>this.actions$.pipe((0,P.l4)(St),(0,wt.b)(({id:l})=>{console.log("show product details for id : ",l),this.router.navigate(["/product/"+l])})),{dispatch:!1}),this.showAllProduct$=(0,P.GW)(()=>this.actions$.pipe((0,P.l4)(Wt),(0,wt.b)(()=>{this.router.navigate(["/all"])})),{dispatch:!1}),this.showLoginPage$=(0,P.GW)(()=>this.actions$.pipe((0,P.l4)(qt.pC.loadLoginPages),(0,wt.b)(({})=>{this.router.navigate(["/login"])})),{dispatch:!1}),this.backToPreviousePage$=(0,P.GW)(()=>this.actions$.pipe((0,P.l4)(qt.Q6.loadLoginApiSuccess),(0,mt.M)(this.store.pipe((0,s.Ys)(_e.c.pz))),(0,wt.b)(([{user:l},f])=>{N.N.debug||console.log("user: ",l,"| redirectUrl: ",f),this.router.navigateByUrl(f)})),{dispatch:!1}),this.redirectAfterLogout$=(0,P.GW)(()=>this.actions$.pipe((0,P.l4)(qt.My.logout),(0,wt.b)(()=>{this.router.navigate(["/"])})),{dispatch:!1})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(P.eX),t.LFG(et.F0),t.LFG(L.Ye),t.LFG(s.yh))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),On=(()=>{class e{constructor(n,o){this.actions$=n,this.productServiceApi=o,this.loadTopViews$=(0,P.GW)(()=>this.actions$.pipe((0,P.l4)($t),(0,at.b)(({size:r,filterType:c})=>this.productServiceApi.getTopViewsProduct(r,c).pipe((0,C.U)(l=>zt({products:l})),(0,ut.K)(l=>(0,$.of)(Kt({error:l})))))))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(P.eX),t.LFG(it))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),Dn=(()=>{class e{constructor(n,o){this.actions$=n,this.productServiceApi=o,this.loadTrendings$=(0,P.GW)(()=>this.actions$.pipe((0,P.l4)(Rt),(0,at.b)(()=>this.productServiceApi.getLimitTrendingProduct(5).pipe((0,C.U)(r=>Qt({products:r})),(0,ut.K)(r=>(0,$.of)(Gt({error:r}))))))),this.loadAllTrendings$=(0,P.GW)(()=>this.actions$.pipe((0,P.l4)(rt),(0,at.b)(({start:r,size:c,order:l})=>this.productServiceApi.getAllProductWithPaging(r,c,l).pipe((0,C.U)(f=>Et({productsPaging:f})),(0,ut.K)(f=>(0,$.of)(Te({error:f})))))))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(P.eX),t.LFG(it))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),En=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[{provide:it,useClass:N.N.useMockService?Y:vt}],imports:[[L.ez,J.u5,J.UX,tt.m,qn,s.Aw.forFeature(se,Ne),P.sQ.forFeature([Dn,Mn,Ln,On,xn]),s.Aw.forFeature(ee,xe),s.Aw.forFeature(te,Fe),s.Aw.forFeature(ie,De),s.Aw.forFeature(ne,Me),ot.ii]]}),e})()}}]);